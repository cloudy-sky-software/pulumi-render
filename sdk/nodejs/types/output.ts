// *** WARNING: this file was generated by pulumigen. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as inputs from "../types/input";
import * as outputs from "../types/output";
import * as enums from "../types/enums";

import * as utilities from "../utilities";

export namespace owners {
    export interface ListOwnersItemProperties {
        cursor?: string;
        owner?: outputs.owners.Owner;
    }

    export interface Owner {
        email: string;
        id: string;
        name: string;
        type: enums.owners.OwnerType;
    }

}

export namespace registrycredentials {
    export interface RegistryCredential {
        /**
         * Unique identifier for this credential
         */
        id: string;
        /**
         * Descriptive name for this credential
         */
        name: string;
        /**
         * The registry to use this credential with
         */
        registry: enums.registrycredentials.RegistryCredentialRegistry;
        /**
         * The username associated with the credential
         */
        username: string;
    }

}

export namespace services {
    export interface AutoscalingConfig {
        criteria: outputs.services.AutoscalingCriteria;
        enabled: boolean;
        /**
         * The maximum number of instances for the service
         */
        max: number;
        /**
         * The minimum number of instances for the service
         */
        min: number;
    }
    /**
     * autoscalingConfigProvideDefaults sets the appropriate defaults for AutoscalingConfig
     */
    export function autoscalingConfigProvideDefaults(val: AutoscalingConfig): AutoscalingConfig {
        return {
            ...val,
            criteria: outputs.services.autoscalingCriteriaProvideDefaults(val.criteria),
            enabled: (val.enabled) ?? false,
        };
    }

    export interface AutoscalingCriteria {
        cpu: outputs.services.AutoscalingCriteriaPercentage;
        memory: outputs.services.AutoscalingCriteriaPercentage;
    }
    /**
     * autoscalingCriteriaProvideDefaults sets the appropriate defaults for AutoscalingCriteria
     */
    export function autoscalingCriteriaProvideDefaults(val: AutoscalingCriteria): AutoscalingCriteria {
        return {
            ...val,
            cpu: outputs.services.autoscalingCriteriaPercentageProvideDefaults(val.cpu),
            memory: outputs.services.autoscalingCriteriaPercentageProvideDefaults(val.memory),
        };
    }

    export interface AutoscalingCriteriaPercentage {
        enabled: boolean;
        /**
         * Determines when your service will be scaled. If the average resource utilization is significantly above/below the target, we will increase/decrease the number of instances.
         */
        percentage: number;
    }
    /**
     * autoscalingCriteriaPercentageProvideDefaults sets the appropriate defaults for AutoscalingCriteriaPercentage
     */
    export function autoscalingCriteriaPercentageProvideDefaults(val: AutoscalingCriteriaPercentage): AutoscalingCriteriaPercentage {
        return {
            ...val,
            enabled: (val.enabled) ?? false,
        };
    }

    export interface BackgroundWorkerDetails {
        autoscaling?: outputs.services.AutoscalingConfig;
        buildPlan: string;
        disk?: outputs.services.Disk;
        /**
         * Environment (runtime)
         */
        env: enums.services.BackgroundWorkerDetailsEnv;
        envSpecificDetails: outputs.services.DockerDetails | outputs.services.NativeEnvironmentDetails;
        /**
         * For a *manually* scaled service, this is the number of instances the service is scaled to. DOES NOT indicate the number of running instances for an *autoscaled* service.
         */
        numInstances: number;
        parentServer?: outputs.services.Resource;
        /**
         * The instance type to use for the preview instance. Note that base services with any paid instance type can't create preview instances with the `free` instance type.
         */
        plan: enums.services.BackgroundWorkerDetailsPlan;
        pullRequestPreviewsEnabled: enums.services.BackgroundWorkerDetailsPullRequestPreviewsEnabled;
        region: enums.services.BackgroundWorkerDetailsRegion;
    }
    /**
     * backgroundWorkerDetailsProvideDefaults sets the appropriate defaults for BackgroundWorkerDetails
     */
    export function backgroundWorkerDetailsProvideDefaults(val: BackgroundWorkerDetails): BackgroundWorkerDetails {
        return {
            ...val,
            autoscaling: (val.autoscaling ? outputs.services.autoscalingConfigProvideDefaults(val.autoscaling) : undefined),
        };
    }

    export interface BackgroundWorkerDetailsCreate {
        disk?: outputs.services.BackgroundWorkerDetailsCreateDiskProperties;
        /**
         * Environment (runtime)
         */
        env: enums.services.BackgroundWorkerDetailsCreateEnv;
        envSpecificDetails?: outputs.services.DockerDetails | outputs.services.NativeEnvironmentDetails;
        /**
         * Defaults to 1
         */
        numInstances?: number;
        plan?: enums.services.BackgroundWorkerDetailsCreatePlan;
        /**
         * Defaults to "no"
         */
        pullRequestPreviewsEnabled?: enums.services.BackgroundWorkerDetailsCreatePullRequestPreviewsEnabled;
        region?: enums.services.BackgroundWorkerDetailsCreateRegion;
        type?: string;
    }
    /**
     * backgroundWorkerDetailsCreateProvideDefaults sets the appropriate defaults for BackgroundWorkerDetailsCreate
     */
    export function backgroundWorkerDetailsCreateProvideDefaults(val: BackgroundWorkerDetailsCreate): BackgroundWorkerDetailsCreate {
        return {
            ...val,
            numInstances: (val.numInstances) ?? 1,
            pullRequestPreviewsEnabled: (val.pullRequestPreviewsEnabled) ?? "no",
            type: (val.type) ?? "background_worker",
        };
    }

    export interface BackgroundWorkerDetailsCreateDiskProperties {
        mountPath: string;
        name: string;
        /**
         * Defaults to 1
         */
        sizeGB?: number;
    }

    export interface BuildFilter {
        ignoredPaths: string[];
        paths: string[];
    }

    export interface CommitProperties {
        createdAt?: string;
        id?: string;
        message?: string;
    }

    export interface CronJobDetails {
        buildPlan: string;
        /**
         * Environment (runtime)
         */
        env: enums.services.CronJobDetailsEnv;
        envSpecificDetails: outputs.services.DockerDetails | outputs.services.NativeEnvironmentDetails;
        lastSuccessfulRunAt?: string;
        /**
         * The instance type to use for the preview instance. Note that base services with any paid instance type can't create preview instances with the `free` instance type.
         */
        plan: enums.services.CronJobDetailsPlan;
        region: enums.services.CronJobDetailsRegion;
        schedule: string;
    }

    export interface CronJobDetailsCreate {
        /**
         * Environment (runtime)
         */
        env: enums.services.CronJobDetailsCreateEnv;
        envSpecificDetails?: outputs.services.DockerDetails | outputs.services.NativeEnvironmentDetails;
        plan?: enums.services.CronJobDetailsCreatePlan;
        region?: enums.services.CronJobDetailsCreateRegion;
        schedule: string;
        type?: string;
    }
    /**
     * cronJobDetailsCreateProvideDefaults sets the appropriate defaults for CronJobDetailsCreate
     */
    export function cronJobDetailsCreateProvideDefaults(val: CronJobDetailsCreate): CronJobDetailsCreate {
        return {
            ...val,
            type: (val.type) ?? "cron_job",
        };
    }

    export interface CustomDomain {
        createdAt: string;
        domainType: enums.services.CustomDomainDomainType;
        id: string;
        name: string;
        publicSuffix: string;
        redirectForName: string;
        server?: outputs.services.CustomDomainServerProperties;
        verificationStatus: enums.services.CustomDomainVerificationStatus;
    }

    export interface CustomDomainServerProperties {
        id?: string;
        name?: string;
    }

    export interface Deploy {
        commit?: outputs.services.DeployCommitProperties;
        createdAt?: string;
        finishedAt?: string;
        id: string;
        /**
         * Image information used when creating the deploy. Not present for Git-backed deploys
         */
        image?: outputs.services.DeployImageProperties;
        status?: enums.services.DeployStatus;
        trigger?: enums.services.DeployTrigger;
        updatedAt?: string;
    }

    export interface DeployCommitProperties {
        createdAt?: string;
        id?: string;
        message?: string;
    }

    /**
     * Image information used when creating the deploy. Not present for Git-backed deploys
     */
    export interface DeployImageProperties {
        /**
         * Image reference used when creating the deploy
         */
        ref?: string;
        /**
         * Name of credential used to pull the image, if provided
         */
        registryCredential?: string;
        /**
         * SHA that the image reference was resolved to when creating the deploy
         */
        sha?: string;
    }

    export interface Disk {
        id: string;
        mountPath: string;
        name: string;
        sizeGB: number;
    }

    export interface DockerDetails {
        dockerCommand: string;
        dockerContext: string;
        dockerfilePath: string;
        preDeployCommand?: string;
        registryCredential?: outputs.services.RegistryCredential;
    }

    export interface EnvVar {
        key: string;
        value: string;
    }

    export interface EnvVarKeyGenerateValue {
        generateValue: boolean;
        key: string;
    }

    export interface EnvVarKeyValue {
        key: string;
        value: string;
    }

    export interface EnvVarWithCursor {
        cursor: string;
        envVar: outputs.services.EnvVar;
    }

    export interface Header {
        id: string;
        name: string;
        path: string;
        value: string;
    }

    export interface HeaderCreate {
        /**
         * Header name
         */
        name: string;
        /**
         * The request path to add the header to. Wildcards will cause headers to be applied to all matching paths.
         */
        path: string;
        /**
         * Header value
         */
        value: string;
    }

    export interface Image {
        /**
         * Path to the image used for this server (e.g docker.io/library/nginx:latest).
         */
        imagePath: string;
        /**
         * The ID of the owner for this image. This should match the owner of the service as well as the owner of any specified registry credential.
         */
        ownerId: string;
        /**
         * Optional reference to the registry credential passed to the image repository to retrieve this image.
         */
        registryCredentialId?: string;
    }

    /**
     * Image information used when creating the deploy. Not present for Git-backed deploys
     */
    export interface ImageProperties {
        /**
         * Image reference used when creating the deploy
         */
        ref?: string;
        /**
         * Name of credential used to pull the image, if provided
         */
        registryCredential?: string;
        /**
         * SHA that the image reference was resolved to when creating the deploy
         */
        sha?: string;
    }

    export interface Job {
        createdAt: string;
        finishedAt?: string;
        id: string;
        planId: string;
        serviceId: string;
        startCommand: string;
        startedAt?: string;
        status?: string;
    }

    export interface ListCustomDomainsItemProperties {
        cursor?: string;
        customDomain?: outputs.services.CustomDomain;
    }

    export interface ListDeploysItemProperties {
        cursor?: string;
        deploy?: outputs.services.Deploy;
    }

    export interface ListJobItemProperties {
        cursor?: string;
        job?: outputs.services.Job;
    }

    export interface ListRetrieveHeadersItemProperties {
        cursor?: string;
        headers?: outputs.services.Header;
    }

    export interface ListRetrieveRoutesItemProperties {
        cursor?: string;
        routes?: outputs.services.Route;
    }

    export interface ListServicesItemProperties {
        cursor?: string;
        service?: outputs.services.Service;
    }

    export interface NativeEnvironmentDetails {
        buildCommand: string;
        preDeployCommand?: string;
        startCommand: string;
    }

    export interface PrivateServiceDetails {
        autoscaling?: outputs.services.AutoscalingConfig;
        buildPlan: string;
        disk?: outputs.services.Disk;
        /**
         * Environment (runtime)
         */
        env: enums.services.PrivateServiceDetailsEnv;
        envSpecificDetails: outputs.services.DockerDetails | outputs.services.NativeEnvironmentDetails;
        /**
         * For a *manually* scaled service, this is the number of instances the service is scaled to. DOES NOT indicate the number of running instances for an *autoscaled* service.
         */
        numInstances: number;
        openPorts: outputs.services.ServerPort[];
        parentServer?: outputs.services.Resource;
        /**
         * The instance type to use for the preview instance. Note that base services with any paid instance type can't create preview instances with the `free` instance type.
         */
        plan: enums.services.PrivateServiceDetailsPlan;
        pullRequestPreviewsEnabled: enums.services.PrivateServiceDetailsPullRequestPreviewsEnabled;
        region: enums.services.PrivateServiceDetailsRegion;
        url: string;
    }
    /**
     * privateServiceDetailsProvideDefaults sets the appropriate defaults for PrivateServiceDetails
     */
    export function privateServiceDetailsProvideDefaults(val: PrivateServiceDetails): PrivateServiceDetails {
        return {
            ...val,
            autoscaling: (val.autoscaling ? outputs.services.autoscalingConfigProvideDefaults(val.autoscaling) : undefined),
        };
    }

    export interface PrivateServiceDetailsCreate {
        disk?: outputs.services.PrivateServiceDetailsCreateDiskProperties;
        /**
         * Environment (runtime)
         */
        env: enums.services.PrivateServiceDetailsCreateEnv;
        envSpecificDetails?: outputs.services.DockerDetails | outputs.services.NativeEnvironmentDetails;
        /**
         * Defaults to 1
         */
        numInstances?: number;
        plan?: enums.services.PrivateServiceDetailsCreatePlan;
        /**
         * Defaults to "no"
         */
        pullRequestPreviewsEnabled?: enums.services.PrivateServiceDetailsCreatePullRequestPreviewsEnabled;
        region?: enums.services.PrivateServiceDetailsCreateRegion;
        type?: string;
    }
    /**
     * privateServiceDetailsCreateProvideDefaults sets the appropriate defaults for PrivateServiceDetailsCreate
     */
    export function privateServiceDetailsCreateProvideDefaults(val: PrivateServiceDetailsCreate): PrivateServiceDetailsCreate {
        return {
            ...val,
            numInstances: (val.numInstances) ?? 1,
            pullRequestPreviewsEnabled: (val.pullRequestPreviewsEnabled) ?? "no",
            type: (val.type) ?? "private_service",
        };
    }

    export interface PrivateServiceDetailsCreateDiskProperties {
        mountPath: string;
        name: string;
        /**
         * Defaults to 1
         */
        sizeGB?: number;
    }

    export interface RegistryCredential {
        /**
         * Unique identifier for this credential
         */
        id: string;
        /**
         * Descriptive name for this credential
         */
        name: string;
        /**
         * The registry to use this credential with
         */
        registry: enums.services.RegistryCredentialRegistry;
        /**
         * The username associated with the credential
         */
        username: string;
    }

    export interface Resource {
        id: string;
        name: string;
    }

    export interface Route {
        destination: string;
        id: string;
        /**
         * Redirect and Rewrite Rules are applied in priority order starting at 0
         */
        priority: number;
        source: string;
        type: enums.services.RouteType;
    }

    export interface SecretFile {
        id: string;
        name: string;
    }

    export interface ServerPort {
        port: number;
        protocol: enums.services.ServerPortProtocol;
    }

    export interface Service {
        autoDeploy: enums.services.ServiceAutoDeploy;
        branch?: string;
        buildFilter?: outputs.services.BuildFilter;
        createdAt: string;
        id: string;
        imagePath?: string;
        name: string;
        notifyOnFail: enums.services.ServiceNotifyOnFail;
        ownerId: string;
        repo?: string;
        rootDir: string;
        serviceDetails: outputs.services.StaticSiteDetails | outputs.services.WebServiceDetails | outputs.services.PrivateServiceDetails | outputs.services.BackgroundWorkerDetails | outputs.services.CronJobDetails;
        slug: string;
        suspended: enums.services.ServiceSuspended;
        suspenders: enums.services.ServiceSuspendersItem[];
        type: enums.services.ServiceType;
        updatedAt: string;
    }

    export interface StaticSiteDetails {
        buildCommand: string;
        buildPlan: string;
        parentServer?: outputs.services.Resource;
        publishPath: string;
        pullRequestPreviewsEnabled: enums.services.StaticSiteDetailsPullRequestPreviewsEnabled;
        url: string;
    }

    export interface StaticSiteDetailsCreate {
        buildCommand?: string;
        headers?: outputs.services.HeaderCreate[];
        /**
         * Defaults to "public"
         */
        publishPath?: string;
        /**
         * Defaults to "no"
         */
        pullRequestPreviewsEnabled?: enums.services.StaticSiteDetailsCreatePullRequestPreviewsEnabled;
        routes?: outputs.services.Route[];
        type?: string;
    }
    /**
     * staticSiteDetailsCreateProvideDefaults sets the appropriate defaults for StaticSiteDetailsCreate
     */
    export function staticSiteDetailsCreateProvideDefaults(val: StaticSiteDetailsCreate): StaticSiteDetailsCreate {
        return {
            ...val,
            pullRequestPreviewsEnabled: (val.pullRequestPreviewsEnabled) ?? "no",
            type: (val.type) ?? "static_site",
        };
    }

    export interface WebServiceDetails {
        autoscaling?: outputs.services.AutoscalingConfig;
        buildPlan: string;
        disk?: outputs.services.Disk;
        /**
         * Environment (runtime)
         */
        env: enums.services.WebServiceDetailsEnv;
        envSpecificDetails: outputs.services.DockerDetails | outputs.services.NativeEnvironmentDetails;
        healthCheckPath: string;
        /**
         * For a *manually* scaled service, this is the number of instances the service is scaled to. DOES NOT indicate the number of running instances for an *autoscaled* service.
         */
        numInstances: number;
        openPorts: outputs.services.ServerPort[];
        parentServer?: outputs.services.Resource;
        /**
         * The instance type to use for the preview instance. Note that base services with any paid instance type can't create preview instances with the `free` instance type.
         */
        plan: enums.services.WebServiceDetailsPlan;
        pullRequestPreviewsEnabled: enums.services.WebServiceDetailsPullRequestPreviewsEnabled;
        region: enums.services.WebServiceDetailsRegion;
        url: string;
    }
    /**
     * webServiceDetailsProvideDefaults sets the appropriate defaults for WebServiceDetails
     */
    export function webServiceDetailsProvideDefaults(val: WebServiceDetails): WebServiceDetails {
        return {
            ...val,
            autoscaling: (val.autoscaling ? outputs.services.autoscalingConfigProvideDefaults(val.autoscaling) : undefined),
        };
    }

    export interface WebServiceDetailsCreate {
        disk?: outputs.services.WebServiceDetailsCreateDiskProperties;
        /**
         * Environment (runtime)
         */
        env: enums.services.WebServiceDetailsCreateEnv;
        envSpecificDetails?: outputs.services.DockerDetails | outputs.services.NativeEnvironmentDetails;
        healthCheckPath?: string;
        /**
         * Defaults to 1
         */
        numInstances?: number;
        plan?: enums.services.WebServiceDetailsCreatePlan;
        /**
         * Defaults to "no"
         */
        pullRequestPreviewsEnabled?: enums.services.WebServiceDetailsCreatePullRequestPreviewsEnabled;
        region?: enums.services.WebServiceDetailsCreateRegion;
        type?: string;
    }
    /**
     * webServiceDetailsCreateProvideDefaults sets the appropriate defaults for WebServiceDetailsCreate
     */
    export function webServiceDetailsCreateProvideDefaults(val: WebServiceDetailsCreate): WebServiceDetailsCreate {
        return {
            ...val,
            pullRequestPreviewsEnabled: (val.pullRequestPreviewsEnabled) ?? "no",
            type: (val.type) ?? "web_service",
        };
    }

    export interface WebServiceDetailsCreateDiskProperties {
        mountPath: string;
        name: string;
        /**
         * Defaults to 1
         */
        sizeGB?: number;
    }

}
